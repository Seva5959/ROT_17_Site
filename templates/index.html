{% extends "base.html" %}

{% block title %}–†–∞–∑–≥–∞–¥–∞–π –∫–æ–¥{% endblock %}

{% block content %}
<div class="container">
    <h1>–†–∞–∑–≥–∞–¥–∞–π –∫–æ–¥ –∫ –ø–æ–¥–∞—Ä–∫—É! üéÇ</h1>
    
    <div class="grid">
        {% for code in codes %}
            <div class="card {{ 'solved' if code.solved }}">
                <span class="card-number">#{{ code.number }}</span>
                
                {% if code.solved %}
                    <div class="success-message">‚úÖ –£—Å–ø–µ—à–Ω–æ —Ä–∞–∑–≥–∞–¥–∞–Ω–æ!</div>
                    <button class="toggle-btn">‚ñº –ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</button>
                    <div class="answer-block">
                        <input type="text" 
                               value="{{ answers[code.number] }}" 
                               id="answer-{{ code.id }}"
                               readonly>
                        <button class="copy-btn">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                {% else %}
                    <form method="POST" action="{{ url_for('check', code_id=code.id) }}">
                        <input type="text" 
                               name="decoded_text" 
                               placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç"
                               required>
                        <button type="submit">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                    </form>
                {% endif %}
            </div>
        {% endfor %}
    </div>
</div>
{% endblock %}